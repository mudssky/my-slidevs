import{_ as w}from"./slidev/VClicks-CbvQnAAy.js";import{_ as I}from"./CanvasBoard-B-1y74l9.js";import{d as y,t as S,L as k,o as v,b as P,e as t,l as d,c as b,k as p,ac as r,q as B,s as C,B as _}from"./modules/vue-B-ZtjMxi.js";import{u as f,f as D}from"./slidev/context-CFoHlWp9.js";import{I as M}from"./slidev/default-B7mrlUNe.js";import"./index-DDwREoBK.js";import"./modules/shiki-CUXul2Oe.js";const $="/my-slidevs/slidevs/learn-canvas/images/canvas_earth.png",A="/my-slidevs/slidevs/learn-canvas/images/canvas_moon.png",R="/my-slidevs/slidevs/learn-canvas/images/canvas_sun.png",q={class:"inline-block"},F=y({__name:"Demo017AnimationSolarSystem",props:{width:{default:300},height:{default:300}},setup(u){f();const i=S(),l=u;function m(e){const n=new Image,o=new Image,s=new Image;function c(){e.globalCompositeOperation="destination-over",e.clearRect(0,0,300,300),e.fillStyle="rgba(0,0,0,0.4)",e.strokeStyle="rgba(0,153,255,0.4)",e.save(),e.translate(150,150);var a=new Date;e.rotate(2*Math.PI/60*a.getSeconds()+2*Math.PI/6e4*a.getMilliseconds()),e.translate(105,0),e.fillRect(0,-12,50,24),e.drawImage(s,-12,-12),e.save(),e.rotate(2*Math.PI/6*a.getSeconds()+2*Math.PI/6e3*a.getMilliseconds()),e.translate(0,28.5),e.drawImage(o,-3.5,-3.5),e.restore(),e.restore(),e.beginPath(),e.arc(150,150,105,0,Math.PI*2,!1),e.stroke(),e.drawImage(n,0,0,300,300),window.requestAnimationFrame(c)}n.src=R,o.src=A,s.src=$,window.requestAnimationFrame(c)}return k(()=>{const n=i.value.canvasDom.getContext("2d");m(n)}),(e,n)=>{const o=I;return v(),P("div",q,[n[0]||(n[0]=t("div",{class:"text-[12px]"},"Demo017AnimationSolarSystem",-1)),d(o,{ref_key:"canvasBoardRef",ref:i,width:l.width,height:l.height},null,8,["width","height"])])}}}),O={__name:"07animation.md__slidev_52",setup(u){const{$slidev:i,$nav:l,$clicksContext:m,$clicks:e,$page:n,$renderContext:o,$frontmatter:s}=f();return m.setup(),(c,a)=>{const g=F,h=w;return v(),b(M,B(C(_(D)(_(s),51))),{default:p(()=>[a[0]||(a[0]=t("h2",null,"更新动画",-1)),a[1]||(a[1]=t("p",null,[r("为了实现动画，我们需要一些可以定时执行重绘的方法。"),t("br"),t("code",null,"setInterval(function, delay)"),r(" 当设定好间隔时间后，function 会定期执行。 "),t("code",null,"setTimeout(function, delay)"),r(" 在设定好的时间之后执行函数"),t("br"),t("code",null,"requestAnimationFrame(callback)"),r(" 告诉浏览器你希望执行一个动画，并在重绘之前，请求浏览器执行一个特定的函数来更新动画。")],-1)),d(h,null,{default:p(()=>[d(g)]),_:1})]),_:1},16)}}};export{O as default};
