var f=Object.defineProperty;var g=(i,t,e)=>t in i?f(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var l=(i,t,e)=>g(i,typeof t!="symbol"?t+"":t,e);function h(i,t=100){let e;return(...a)=>{e||(i==null||i(...a),e=setTimeout(()=>{e=null},t))}}function v(i){i.fillRect(25,25,100,100),i.clearRect(45,45,60,60),i.strokeRect(50,50,50,50)}function u(i,t){const{startX:e=0,startY:a=0}={};i.beginPath(),i.moveTo(e+75,a+50),i.lineTo(e+100,a+75),i.lineTo(e+100,a+25),i.fill()}function w(i){i.beginPath(),i.arc(75,75,50,0,Math.PI*2,!0),i.moveTo(110,75),i.arc(75,75,35,0,Math.PI,!1),i.moveTo(65,65),i.arc(60,65,5,0,Math.PI*2,!0),i.moveTo(95,65),i.arc(90,65,5,0,Math.PI*2,!0),i.stroke()}function S(i){i.beginPath(),i.moveTo(50,50),i.arcTo(100,50,100,100,50),i.stroke()}function D(i){i.beginPath(),i.moveTo(75,25),i.quadraticCurveTo(25,25,25,62.5),i.quadraticCurveTo(25,100,50,100),i.quadraticCurveTo(50,120,30,125),i.quadraticCurveTo(60,120,65,100),i.quadraticCurveTo(125,100,125,62.5),i.quadraticCurveTo(125,25,75,25),i.stroke()}function b(i){i.beginPath(),i.moveTo(75,40),i.bezierCurveTo(75,37,70,25,50,25),i.bezierCurveTo(20,25,20,62.5,20,62.5),i.bezierCurveTo(20,80,40,102,75,120),i.bezierCurveTo(110,102,130,80,130,62.5),i.bezierCurveTo(130,62.5,130,25,100,25),i.bezierCurveTo(85,25,75,37,75,40),i.fill()}function y(i){const t=new Path2D;t.rect(10,10,50,50);const e=new Path2D;e.moveTo(125,35),e.arc(100,35,25,0,2*Math.PI),i.stroke(t),i.fill(e)}function R(i){const t=new Path2D("M10 10 h 80 v 80 h -80 Z");i.stroke(t)}function T(i){for(let t=0;t<6;t++)for(let e=0;e<6;e++)i.fillStyle="rgb("+Math.floor(255-42.5*t)+","+Math.floor(255-42.5*e)+",0)",i.fillRect(e*25,t*25,25,25)}function p(i){for(let t=0;t<6;t++)for(let e=0;e<6;e++)i.strokeStyle="rgb(0,"+Math.floor(255-42.5*t)+","+Math.floor(255-42.5*e)+")",i.beginPath(),i.arc(12.5+e*25,12.5+t*25,10,0,Math.PI*2,!0),i.stroke()}function C(i){i.fillStyle="#FD0",i.fillRect(0,0,75,75),i.fillStyle="#6C0",i.fillRect(75,0,75,75),i.fillStyle="#09F",i.fillRect(0,75,75,75),i.fillStyle="#F30",i.fillRect(75,75,75,75),i.fillStyle="#FFF",i.globalAlpha=.2;for(let t=0;t<7;t++)i.beginPath(),i.arc(75,75,10+10*t,0,Math.PI*2,!0),i.fill()}function P(i){i.fillStyle="rgb(255,221,0)",i.fillRect(0,0,150,37.5),i.fillStyle="rgb(102,204,0)",i.fillRect(0,37.5,150,37.5),i.fillStyle="rgb(0,153,255)",i.fillRect(0,75,150,37.5),i.fillStyle="rgb(255,51,0)",i.fillRect(0,112.5,150,37.5);for(let t=0;t<10;t++){i.fillStyle="rgba(255,255,255,"+(t+1)/10+")";for(let e=0;e<4;e++)i.fillRect(5+t*14,5+e*37.5,14,27.5)}}function k(i){for(let t=0;t<10;t++)i.lineWidth=1+t,i.beginPath(),i.moveTo(5+t*14,5),i.lineTo(5+t*14,140),i.stroke()}function I(i){const t=["butt","round","square"];i.strokeStyle="#09f",i.beginPath(),i.moveTo(10,10),i.lineTo(140,10),i.moveTo(10,140),i.lineTo(140,140),i.stroke(),i.strokeStyle="black";for(let e=0;e<t.length;e++)i.lineWidth=15,i.lineCap=t[e],i.beginPath(),i.moveTo(25+e*50,10),i.lineTo(25+e*50,140),i.stroke()}function M(i){const t=["round","bevel","miter"];i.lineWidth=10;for(let e=0;e<t.length;e++)i.lineJoin=t[e],i.beginPath(),i.moveTo(-5,5+e*40),i.lineTo(35,45+e*40),i.lineTo(75,5+e*40),i.lineTo(115,45+e*40),i.lineTo(155,5+e*40),i.stroke()}function F(i,t=10){i.clearRect(0,0,i.canvas.width,i.canvas.height),i.fillStyle="purple",i.font="16px Fira Sans",i.fillText(`miterLimit:${t}`,100,20,100),i.strokeStyle="#09f",i.lineWidth=2,i.strokeRect(-5,50,160,50),i.strokeStyle="#000",i.lineWidth=10,i.miterLimit=t,i.beginPath(),i.moveTo(0,100);for(let e=0;e<24;e++){const a=e%2==0?25:-25;i.lineTo(Math.pow(e,1.5)*2,75+a)}return i.stroke(),!1}function L(i){let t=0;function e(s){s.clearRect(0,0,s.canvas.width,s.canvas.height),s.setLineDash([4,2]),s.lineDashOffset=-t,s.strokeRect(10,10,100,100)}function a(){t++,t>16&&(t=0),e(i),setTimeout(a,20)}a()}function A(i){let t=15;function e(a){i.beginPath(),i.setLineDash(a),i.moveTo(0,t),i.lineTo(i.canvas.width,t),i.stroke(),t+=20}e([]),e([1,1]),e([10,10]),e([20,5]),e([15,3,3,3]),e([20,3,3,3,3,3,3,3]),e([12,3,3])}function B(i){const t=i.createLinearGradient(0,0,0,150);t.addColorStop(0,"#00ABEB"),t.addColorStop(.5,"#fff"),t.addColorStop(.5,"#26C000"),t.addColorStop(1,"#fff");const e=i.createLinearGradient(0,50,0,95);e.addColorStop(.5,"#000"),e.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=t,i.strokeStyle=e,i.fillRect(10,10,130,130),i.strokeRect(50,50,50,50)}function G(i){const t=i.createRadialGradient(45,45,10,52,50,30);t.addColorStop(0,"#A7D30C"),t.addColorStop(.9,"#019F62"),t.addColorStop(1,"rgba(1,159,98,0)");const e=i.createRadialGradient(105,105,20,112,120,50);e.addColorStop(0,"#FF5F98"),e.addColorStop(.75,"#FF0188"),e.addColorStop(1,"rgba(255,1,136,0)");const a=i.createRadialGradient(95,15,15,102,20,40);a.addColorStop(0,"#00C9FF"),a.addColorStop(.8,"#00B5E2"),a.addColorStop(1,"rgba(0,201,255,0)");const s=i.createRadialGradient(0,150,50,0,140,90);s.addColorStop(0,"#F4F201"),s.addColorStop(.8,"#E4C700"),s.addColorStop(1,"rgba(228,199,0,0)"),i.fillStyle=s,i.fillRect(0,0,150,150),i.fillStyle=a,i.fillRect(0,0,150,150),i.fillStyle=e,i.fillRect(0,0,150,150),i.fillStyle=t,i.fillRect(0,0,150,150)}function X(i){i.font="48px serif",i.fillText("Hello world",10,50)}function E(i){i.font="48px serif",i.strokeText("Hello world",10,50)}function W(i){i.fillRect(0,0,150,150),i.save(),i.fillStyle="#09F",i.fillRect(15,15,120,120),i.save(),i.fillStyle="#FFF",i.globalAlpha=.5,i.fillRect(30,30,90,90),i.restore(),i.fillRect(45,45,60,60),i.restore(),i.fillRect(60,60,30,30)}function Y(i){for(let t=0;t<3;t++)for(let e=0;e<3;e++)i.save(),i.fillStyle="rgb("+51*t+", "+(255-51*t)+", 255)",i.translate(10+e*50,10+t*50),i.fillRect(0,0,25,25),i.restore()}function q(i){i.save(),i.fillStyle="#0095DD",i.fillRect(30,30,100,100),i.rotate(Math.PI/180*25),i.fillStyle="#4D4E53",i.fillRect(30,30,100,100),i.restore(),i.fillStyle="#0095DD",i.fillRect(150,30,100,100),i.translate(200,80),i.rotate(Math.PI/180*25),i.translate(-200,-80),i.fillStyle="#4D4E53",i.fillRect(150,30,100,100)}function H(i){i.save(),i.scale(10,3),i.fillRect(1,10,10,10),i.restore(),i.scale(-1,1),i.font="48px serif",i.fillText("SCALE",-135,120)}function $(i){const t=Math.sin(Math.PI/6),e=Math.cos(Math.PI/6);i.translate(100,100);let a=0;for(let s=0;s<=12;s++)a=Math.floor(255/12*s),i.fillStyle=`rgb(${a},${a},${a})`,i.fillRect(0,0,100,10),i.transform(e,t,-t,e,0,0);i.setTransform(-1,0,0,1,100,100),i.fillStyle="rgba(255, 128, 255, 0.5)",i.fillRect(0,50,100,100)}function z(i){i.globalCompositeOperation="xor",i.fillStyle="blue",i.fillRect(10,10,100,100),i.fillStyle="red",i.fillRect(50,50,100,100)}function j(i){i.fillRect(0,0,150,150),i.translate(75,75),i.beginPath(),i.arc(0,0,60,0,Math.PI*2,!0),i.clip();const t=i.createLinearGradient(0,-75,0,75);t.addColorStop(0,"#232256"),t.addColorStop(1,"#143778"),i.fillStyle=t,i.fillRect(-75,-75,150,150);for(let e=1;e<50;e++)i.save(),i.fillStyle="#fff",i.translate(75-Math.floor(Math.random()*150),75-Math.floor(Math.random()*150)),m(i,Math.floor(Math.random()*4)+2),i.restore()}function m(i,t){i.save(),i.beginPath(),i.moveTo(t,0);for(let e=0;e<9;e++)i.rotate(Math.PI/5),e%2==0?i.lineTo(t/.525731*.200811,0):i.lineTo(t,0);i.closePath(),i.fill(),i.restore()}class O{constructor(t){l(this,"ctx");l(this,"imgSrc");l(this,"speed");l(this,"moveX");l(this,"scale");l(this,"img",new Image);l(this,"imgW");l(this,"imgH");l(this,"clearX");l(this,"clearY");l(this,"imgY");l(this,"imgX",0);const{ctx:e,imgSrc:a,speed:s=30,moveX:o=.75,scale:r=1,imgY:n=0}=t;this.ctx=e,this.imgSrc=a,this.speed=s,this.moveX=o,this.scale=r,this.imgY=n,this.img.src=this.imgSrc,this.init()}getClearImageArea(){this.clearX=Math.max(this.imgW,this.ctx.canvas.width),this.clearY=Math.max(this.imgH,this.ctx.canvas.height)}resetImgX(){this.imgW>this.ctx.canvas.width&&(this.imgX=this.ctx.canvas.width-this.imgW)}init(){this.img.onload=()=>{this.imgW=this.img.width*this.scale,this.imgH=this.img.height*this.scale,this.getClearImageArea(),this.resetImgX(),setInterval(this.draw.bind(this),this.speed)}}draw(){if(this.ctx.clearRect(0,0,this.clearX,this.clearY),this.imgW>this.ctx.canvas.width)this.imgX>this.ctx.canvas.width&&this.resetImgX(),this.ctx.drawImage(this.img,this.imgX-this.imgW+1,this.imgY,this.imgW,this.imgH);else throw Error("need image width lager than canvas");this.ctx.drawImage(this.img,this.imgX,this.imgY,this.imgW,this.imgH),this.imgX+=this.moveX}}class J{constructor(t,e=100,a=100,s=6,o=2,r=25,n="red"){l(this,"raf");l(this,"running");this.ctx=t,this.x=e,this.y=a,this.vx=s,this.vy=o,this.radius=r,this.color=n,this.init()}init(){this.drawBall(),this.ctx.canvas.addEventListener("mouseout",()=>{window.cancelAnimationFrame(this.raf),this.running=!1}),this.ctx.canvas.addEventListener("mousemove",t=>{this.running||(this.clear(),this.x=t.offsetX,this.y=t.offsetY,this.drawBall())}),this.ctx.canvas.addEventListener("click",()=>{this.running||(this.draw(),this.running=!0)})}collisionDetection(){const t=this.y+this.vy,e=this.x+this.vx;(t>this.ctx.canvas.height||t<0)&&(this.vy=-this.vy),(e>this.ctx.canvas.width||e<0)&&(this.vx=-this.vx)}drawBall(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,Math.PI*2,!0),this.ctx.closePath(),this.ctx.fillStyle=this.color,this.ctx.fill()}clear(){this.ctx.fillStyle="rgba(255,255,255,0.3)",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}draw(){this.clear(),this.drawBall(),this.collisionDetection(),this.x+=this.vx,this.y+=this.vy,this.raf=window.requestAnimationFrame(this.draw.bind(this))}}const _={r:0,g:0,b:0,a:0};function U(i){return`rgba(${i.r},${i.g},${i.b},${i.a.toFixed(2)})`}class V{constructor(t,e,a,s){l(this,"img",new Image);l(this,"hoverRGBA");l(this,"selectedRGBA");this.ctx=t,this.imgSrc=e,this.hoverCallBack=a,this.selectedCallBack=s,this.img.src=e,this.init()}init(){this.img.onload=()=>{this.ctx.drawImage(this.img,0,0),this.ctx.canvas.addEventListener("mousemove",h(t=>{var e;this.hoverRGBA=this.pick(t),(e=this.hoverCallBack)==null||e.call(this,this.hoverRGBA)})),this.ctx.canvas.addEventListener("click",h(t=>{var e;this.selectedRGBA=this.pick(t),(e=this.selectedCallBack)==null||e.call(this,this.selectedRGBA)}))}}pick(t){const e=Math.round(t.offsetX),a=Math.round(t.offsetY),o=this.ctx.getImageData(e,a,1,1).data;return{r:o[0],g:o[1],b:o[2],a:o[3]/255}}}var d=(i=>(i.original="original",i.invert="invert",i.grayscale="grayscale",i))(d||{});const Z=Object.values(d);class K{constructor(t,e){l(this,"img",new Image);this.ctx=t,this.imgSrc=e,this.img.src=e,this.init()}init(){this.img.onload=()=>{this.original()}}original(){this.ctx.drawImage(this.img,0,0)}grayscale(){this.ctx.drawImage(this.img,0,0);const t=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height),e=t.data;for(let a=0;a<e.length;a+=4){const s=(e[a]+e[a+1]+e[a+2])/3;e[a]=s,e[a+1]=s,e[a+2]=s}this.ctx.putImageData(t,0,0)}invert(){this.ctx.drawImage(this.img,0,0);const t=this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height),e=t.data;for(let a=0;a<e.length;a+=4)e[a]=255-e[a],e[a+1]=255-e[a+1],e[a+2]=255-e[a+2];this.ctx.putImageData(t,0,0)}convert(t){switch(t){case"invert":this.invert();break;case"grayscale":this.grayscale();break;default:this.original();break}}}class N{constructor(t){l(this,"ctx");l(this,"isDrawing",!1);this.selector=t,this.ctx=this.getContext(t),this.init()}getContext(t){return document.querySelector(t).getContext("2d")}init(){this.ctx.fillStyle="darkgray",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.fillStyle="#fff";const t="刮刮卡",e=this.ctx.measureText(t);this.ctx.fillText(t,this.ctx.canvas.width/2-e.width/2,this.ctx.canvas.height/2),this.ctx.canvas.addEventListener("mousedown",this.startDrawing.bind(this)),this.ctx.canvas.addEventListener("mouseup",this.endDrawing.bind(this)),this.ctx.canvas.addEventListener("mousemove",this.drawing.bind(this))}startDrawing(){this.isDrawing=!0}endDrawing(){this.isDrawing=!1}drawing(t){if(!this.isDrawing)return;const e=t.offsetX,a=t.offsetY;this.ctx.globalCompositeOperation="destination-out",this.ctx.beginPath(),this.ctx.arc(e,a,10,0,2*Math.PI),this.ctx.fill()}}export{$ as A,z as B,j as C,J as D,U as E,V as F,_ as G,d as H,K as I,Z as J,O as P,N as S,u as a,S as b,w as c,v as d,b as e,D as f,y as g,R as h,p as i,T as j,P as k,C as l,M as m,I as n,k as o,F as p,A as q,L as r,G as s,B as t,E as u,X as v,W as w,Y as x,q as y,H as z};
