import{d as w,t as S,L as $,o as B,b as T,e as i,c as E,k as A,l as v,m as b,ac as o,q as O,s as F,B as D}from"./modules/vue-DbxlR5i2.js";import{u as x,f as L}from"./slidev/context-B0SpK287.js";import{o as c,c as f,g as u,i as y,O as m,h as P,e as R,r as K,j as M,k as N,l as V,n as j,p as q,q as U,s as W,t as z,f as G,m as H}from"./fromEvent-DIvCH5F-.js";import{i as J,b as Q}from"./isScheduler-C-h2YgwD.js";import{_ as X}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-CM1IqKGi.js";import{I as Y}from"./slidev/default-BvtlqFyG.js";import"./index-16D_NgiB.js";import"./modules/shiki-bCin5VMP.js";import"./modules/unplugin-icons-Du48KXpc.js";function Z(s){return s[s.length-1]}function ii(s){return J(Z(s))?s.pop():void 0}function _(s,n){return n===void 0&&(n=0),c(function(a,e){a.subscribe(f(e,function(t){return u(e,s,function(){return e.next(t)},n)},function(){return u(e,s,function(){return e.complete()},n)},function(t){return u(e,s,function(){return e.error(t)},n)}))})}function C(s,n){return n===void 0&&(n=0),c(function(a,e){e.add(s.schedule(function(){return a.subscribe(e)},n))})}function si(s,n){return y(s).pipe(C(n),_(n))}function ni(s,n){return y(s).pipe(C(n),_(n))}function ei(s,n){return new m(function(a){var e=0;return n.schedule(function(){e===s.length?a.complete():(a.next(s[e++]),a.closed||this.schedule())})})}function ti(s,n){return new m(function(a){var e;return u(a,n,function(){e=s[P](),u(a,n,function(){var t,l,h;try{t=e.next(),l=t.value,h=t.done}catch(k){a.error(k);return}h?a.complete():a.next(l)},0,!0)}),function(){return R(e==null?void 0:e.return)&&e.return()}})}function I(s,n){if(!s)throw new Error("Iterable cannot be null");return new m(function(a){u(a,n,function(){var e=s[Symbol.asyncIterator]();u(a,n,function(){e.next().then(function(t){t.done?a.complete():a.next(t.value)})},0,!0)})})}function ai(s,n){return I(K(s),n)}function ri(s,n){if(s!=null){if(M(s))return si(s,n);if(N(s))return ei(s,n);if(V(s))return ni(s,n);if(j(s))return I(s,n);if(q(s))return ti(s,n);if(U(s))return ai(s,n)}throw W(s)}function li(s,n){return n?ri(s,n):y(s)}function hi(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];var a=ii(s);return li(s,a)}function ki(s,n){return n===void 0&&(n=Q),c(function(a,e){var t=null,l=null,h=null,k=function(){if(t){t.unsubscribe(),t=null;var r=l;l=null,e.next(r)}};function p(){var r=h+s,d=n.now();if(d<r){t=this.schedule(void 0,r-d),e.add(t);return}k()}a.subscribe(f(e,function(r){l=r,h=n.now(),t||(t=n.schedule(p,s),e.add(t))},function(){k(),e.complete()},void 0,function(){l=t=null}))})}function oi(s,n){return n===void 0&&(n=z),s=s??di,c(function(a,e){var t,l=!0;a.subscribe(f(e,function(h){var k=n(h);(l||!s(t,k))&&(l=!1,t=k,e.next(h))}))})}function di(s,n){return s===n}function ui(s,n){return c(function(a,e){var t=null,l=0,h=!1,k=function(){return h&&!t&&e.complete()};a.subscribe(f(e,function(p){t==null||t.unsubscribe();var r=0,d=l++;y(s(p,d)).subscribe(t=f(e,function(g){return e.next(n?n(p,g,d,r++):g)},function(){t=null,k()}))},function(){h=!0,k()}))})}const pi=w({__name:"Demo005SearchInput",setup(s){x();const n=S();function a(e){return hi(e)}return $(()=>{G(n.value,"keyup").pipe(H(t=>t.target.value),ki(500),oi(),ui(t=>a(t))).subscribe(t=>{console.log({data:t})})}),(e,t)=>(B(),T("div",null,[i("input",{type:"text",ref_key:"searchRef",ref:n,class:"border-black border-1 rounded-sm"},null,512)]))}}),xi={__name:"09practice.md__slidev_48",setup(s){const{$slidev:n,$nav:a,$clicksContext:e,$clicks:t,$page:l,$renderContext:h,$frontmatter:k}=x();return e.setup(),(p,r)=>{const d=X,g=pi;return B(),E(Y,O(F(D(L)(D(k),47))),{default:A(()=>[r[1]||(r[1]=i("h3",null,"02.事件处理",-1)),r[2]||(r[2]=i("p",null,"下面是搜索框用户输入的例子",-1)),v(d,b({},{ranges:[]}),{default:A(()=>r[0]||(r[0]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-ts"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"  fromEvent"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"<"),i("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}},"KeyboardEvent"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},">("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"searchRef"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"value"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," '"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"keyup"),i("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")")]),o(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    ."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"pipe"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"(")]),o(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"      map"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"(("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"e"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},": "),i("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}},"any"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," =>"),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," e"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"target"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"value"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"),"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // 获取输入值")]),o(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"      debounceTime"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"500"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"),"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // 等待 500ms，如果没有新的输入则继续")]),o(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"      distinctUntilChanged"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"(),"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // 只有当输入值变化时才继续")]),o(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"      switchMap"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"(("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"searchTerm"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},": "),i("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}},"string"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," =>"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," handleSearch"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"searchTerm"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")),"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," // 执行搜索操作")]),o(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    )")]),o(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    ."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"subscribe"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"(("),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"data"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," =>"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),o(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"      console"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}},"log"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"({ "),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"data"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," })")]),o(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"    })")])])],-1)])),_:1},16),v(g),r[3]||(r[3]=i("h2",null,"03",-1))]),_:1},16)}}};export{xi as default};
