var I=function(e,n){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])},I(e,n)};function P(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");I(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function X(e,n,r,t){function o(i){return i instanceof r?i:new r(function(u){u(i)})}return new(r||(r=Promise))(function(i,u){function s(f){try{a(t.next(f))}catch(p){u(p)}}function c(f){try{a(t.throw(f))}catch(p){u(p)}}function a(f){f.done?i(f.value):o(f.value).then(s,c)}a((t=t.apply(e,n||[])).next())})}function H(e,n){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},t,o,i,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(a){return function(f){return c([a,f])}}function c(a){if(t)throw new TypeError("Generator is already executing.");for(;u&&(u=0,a[0]&&(r=0)),r;)try{if(t=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(a[0]===6&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=n.call(e,r)}catch(f){a=[6,f],o=0}finally{t=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function w(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function S(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),o,i=[],u;try{for(;(n===void 0||n-- >0)&&!(o=t.next()).done;)i.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(r=t.return)&&r.call(t)}finally{if(u)throw u.error}}return i}function x(e,n,r){if(r||arguments.length===2)for(var t=0,o=n.length,i;t<o;t++)(i||!(t in n))&&(i||(i=Array.prototype.slice.call(n,0,t)),i[t]=n[t]);return e.concat(i||Array.prototype.slice.call(n))}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function Z(e,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r.apply(e,n||[]),o,i=[];return o={},u("next"),u("throw"),u("return"),o[Symbol.asyncIterator]=function(){return this},o;function u(l){t[l]&&(o[l]=function(y){return new Promise(function(v,h){i.push([l,y,v,h])>1||s(l,y)})})}function s(l,y){try{c(t[l](y))}catch(v){p(i[0][3],v)}}function c(l){l.value instanceof m?Promise.resolve(l.value.v).then(a,f):p(i[0][2],l)}function a(l){s("next",l)}function f(l){s("throw",l)}function p(l,y){l(y),i.shift(),i.length&&s(i[0][0],i[0][1])}}function $(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],r;return n?n.call(e):(e=typeof w=="function"?w(e):e[Symbol.iterator](),r={},t("next"),t("throw"),t("return"),r[Symbol.asyncIterator]=function(){return this},r);function t(i){r[i]=e[i]&&function(u){return new Promise(function(s,c){u=e[i](u),o(s,c,u.done,u.value)})}}function o(i,u,s,c){Promise.resolve(c).then(function(a){i({value:a,done:s})},u)}}function d(e){return typeof e=="function"}function N(e){var n=function(t){Error.call(t),t.stack=new Error().stack},r=e(n);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var A=N(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(t,o){return o+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function F(e,n){if(e){var r=e.indexOf(n);0<=r&&e.splice(r,1)}}var L=function(){function e(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var n,r,t,o,i;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var s=w(u),c=s.next();!c.done;c=s.next()){var a=c.value;a.remove(this)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}else u.remove(this);var f=this.initialTeardown;if(d(f))try{f()}catch(h){i=h instanceof A?h.errors:[h]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var l=w(p),y=l.next();!y.done;y=l.next()){var v=y.value;try{j(v)}catch(h){i=i??[],h instanceof A?i=x(x([],S(i)),S(h.errors)):i.push(h)}}}catch(h){t={error:h}}finally{try{y&&!y.done&&(o=l.return)&&o.call(l)}finally{if(t)throw t.error}}}if(i)throw new A(i)}},e.prototype.add=function(n){var r;if(n&&n!==this)if(this.closed)j(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(n)}},e.prototype._hasParent=function(n){var r=this._parentage;return r===n||Array.isArray(r)&&r.includes(n)},e.prototype._addParent=function(n){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(n),r):r?[r,n]:n},e.prototype._removeParent=function(n){var r=this._parentage;r===n?this._parentage=null:Array.isArray(r)&&F(r,n)},e.prototype.remove=function(n){var r=this._finalizers;r&&F(r,n),n instanceof e&&n._removeParent(this)},e.EMPTY=function(){var n=new e;return n.closed=!0,n}(),e}();L.EMPTY;function V(e){return e instanceof L||e&&"closed"in e&&d(e.remove)&&d(e.add)&&d(e.unsubscribe)}function j(e){d(e)?e():e.unsubscribe()}var ee={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},B={setTimeout:function(e,n){for(var r=[],t=2;t<arguments.length;t++)r[t-2]=arguments[t];return setTimeout.apply(void 0,x([e,n],S(r)))},clearTimeout:function(e){var n=B.delegate;return((n==null?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0};function D(e){B.setTimeout(function(){throw e})}function Y(){}function re(e){e()}var k=function(e){P(n,e);function n(r){var t=e.call(this)||this;return t.isStopped=!1,r?(t.destination=r,V(r)&&r.add(t)):t.destination=ie,t}return n.create=function(r,t,o){return new T(r,t,o)},n.prototype.next=function(r){this.isStopped||this._next(r)},n.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(r){this.destination.next(r)},n.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(L),ne=function(){function e(n){this.partialObserver=n}return e.prototype.next=function(n){var r=this.partialObserver;if(r.next)try{r.next(n)}catch(t){E(t)}},e.prototype.error=function(n){var r=this.partialObserver;if(r.error)try{r.error(n)}catch(t){E(t)}else E(n)},e.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(r){E(r)}},e}(),T=function(e){P(n,e);function n(r,t,o){var i=e.call(this)||this,u;return d(r)||!r?u={next:r??void 0,error:t??void 0,complete:o??void 0}:u=r,i.destination=new ne(u),i}return n}(k);function E(e){D(e)}function te(e){throw e}var ie={closed:!0,next:Y,error:te,complete:Y},U=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function oe(e){return e}function ue(e){return e.length===0?oe:e.length===1?e[0]:function(r){return e.reduce(function(t,o){return o(t)},r)}}var b=function(){function e(n){n&&(this._subscribe=n)}return e.prototype.lift=function(n){var r=new e;return r.source=this,r.operator=n,r},e.prototype.subscribe=function(n,r,t){var o=this,i=ce(n)?n:new T(n,r,t);return re(function(){var u=o,s=u.operator,c=u.source;i.add(s?s.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(r){n.error(r)}},e.prototype.forEach=function(n,r){var t=this;return r=C(r),new r(function(o,i){var u=new T({next:function(s){try{n(s)}catch(c){i(c),u.unsubscribe()}},error:i,complete:o});t.subscribe(u)})},e.prototype._subscribe=function(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)},e.prototype[U]=function(){return this},e.prototype.pipe=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return ue(n)(this)},e.prototype.toPromise=function(n){var r=this;return n=C(n),new n(function(t,o){var i;r.subscribe(function(u){return i=u},function(u){return o(u)},function(){return t(i)})})},e.create=function(n){return new e(n)},e}();function C(e){var n;return(n=e??ee.Promise)!==null&&n!==void 0?n:Promise}function ae(e){return e&&d(e.next)&&d(e.error)&&d(e.complete)}function ce(e){return e&&e instanceof k||ae(e)&&V(e)}function se(e){return d(e==null?void 0:e.lift)}function J(e){return function(n){if(se(n))return n.lift(function(r){try{return e(r,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function _(e,n,r,t,o){return new fe(e,n,r,t,o)}var fe=function(e){P(n,e);function n(r,t,o,i,u,s){var c=e.call(this,r)||this;return c.onFinalize=u,c.shouldUnsubscribe=s,c._next=t?function(a){try{t(a)}catch(f){r.error(f)}}:e.prototype._next,c._error=i?function(a){try{i(a)}catch(f){r.error(f)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(a){r.error(a)}finally{this.unsubscribe()}}:e.prototype._complete,c}return n.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var t=this.closed;e.prototype.unsubscribe.call(this),!t&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},n}(k),Q=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function le(e){return d(e==null?void 0:e.then)}function de(e){return d(e[U])}function he(e){return Symbol.asyncIterator&&d(e==null?void 0:e[Symbol.asyncIterator])}function ye(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function pe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ve=pe();function be(e){return d(e==null?void 0:e[ve])}function me(e){return Z(this,arguments,function(){var r,t,o,i;return H(this,function(u){switch(u.label){case 0:r=e.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,m(r.read())];case 3:return t=u.sent(),o=t.value,i=t.done,i?[4,m(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,m(o)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function we(e){return d(e==null?void 0:e.getReader)}function R(e){if(e instanceof b)return e;if(e!=null){if(de(e))return Se(e);if(Q(e))return Ee(e);if(le(e))return xe(e);if(he(e))return z(e);if(be(e))return ge(e);if(we(e))return Oe(e)}throw ye(e)}function Se(e){return new b(function(n){var r=e[U]();if(d(r.subscribe))return r.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ee(e){return new b(function(n){for(var r=0;r<e.length&&!n.closed;r++)n.next(e[r]);n.complete()})}function xe(e){return new b(function(n){e.then(function(r){n.closed||(n.next(r),n.complete())},function(r){return n.error(r)}).then(null,D)})}function ge(e){return new b(function(n){var r,t;try{for(var o=w(e),i=o.next();!i.done;i=o.next()){var u=i.value;if(n.next(u),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}n.complete()})}function z(e){return new b(function(n){Ae(e,n).catch(function(r){return n.error(r)})})}function Oe(e){return z(me(e))}function Ae(e,n){var r,t,o,i;return X(this,void 0,void 0,function(){var u,s;return H(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=$(e),c.label=1;case 1:return[4,r.next()];case 2:if(t=c.sent(),!!t.done)return[3,4];if(u=t.value,n.next(u),n.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),t&&!t.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}})})}function je(e,n,r,t,o){t===void 0&&(t=0),o===void 0&&(o=!1);var i=n.schedule(function(){r(),o?e.add(this.schedule(null,t)):this.unsubscribe()},t);if(e.add(i),!o)return i}function K(e,n){return J(function(r,t){var o=0;r.subscribe(_(t,function(i){t.next(e.call(n,i,o++))}))})}var Ie=Array.isArray;function Te(e,n){return Ie(n)?e.apply(void 0,x([],S(n))):e(n)}function _e(e){return K(function(n){return Te(e,n)})}function Pe(e,n,r,t,o,i,u,s){var c=[],a=0,f=0,p=!1,l=function(){p&&!c.length&&!a&&n.complete()},y=function(h){return a<t?v(h):c.push(h)},v=function(h){a++;var M=!1;R(r(h,f++)).subscribe(_(n,function(g){n.next(g)},function(){M=!0},void 0,function(){if(M)try{a--;for(var g=function(){var O=c.shift();u||v(O)};c.length&&a<t;)g();l()}catch(O){n.error(O)}}))};return e.subscribe(_(n,y,function(){p=!0,l()})),function(){}}function W(e,n,r){return r===void 0&&(r=1/0),d(n)?W(function(t,o){return K(function(i,u){return n(t,i,o,u)})(R(e(t,o)))},r):(typeof n=="number"&&(r=n),J(function(t,o){return Pe(t,o,e,r)}))}var Le=["addListener","removeListener"],ke=["addEventListener","removeEventListener"],Ue=["on","off"];function G(e,n,r,t){if(d(r)&&(t=r,r=void 0),t)return G(e,n,r).pipe(_e(t));var o=S(Fe(e)?ke.map(function(s){return function(c){return e[s](n,c,r)}}):Re(e)?Le.map(q(e,n)):Me(e)?Ue.map(q(e,n)):[],2),i=o[0],u=o[1];if(!i&&Q(e))return W(function(s){return G(s,n,r)})(R(e));if(!i)throw new TypeError("Invalid event target");return new b(function(s){var c=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];return s.next(1<a.length?a:a[0])};return i(c),function(){return u(c)}})}function q(e,n){return function(r){return function(t){return e[r](n,t)}}}function Re(e){return d(e.addListener)&&d(e.removeListener)}function Me(e){return d(e.on)&&d(e.off)}function Fe(e){return d(e.addEventListener)&&d(e.removeEventListener)}export{b as O,L as S,P as _,x as a,S as b,_ as c,F as d,d as e,G as f,je as g,ve as h,R as i,de as j,Q as k,le as l,K as m,he as n,J as o,be as p,we as q,me as r,ye as s,oe as t};
