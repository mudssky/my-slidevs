import{i as D,a as V,b as _}from"./isScheduler-C-h2YgwD.js";import{O as w,o as y,i as N,c as g}from"./fromEvent-DIvCH5F-.js";function C(n){return n instanceof Date&&!isNaN(n)}function F(n,t,o){n===void 0&&(n=0),o===void 0&&(o=V);var i=-1;return t!=null&&(D(t)?o=t:i=t),new w(function(l){var r=C(n)?+n-o.now():n;r<0&&(r=0);var s=0;return o.schedule(function(){l.closed||(l.next(s++),0<=i?this.schedule(void 0,i):l.complete())},r)})}function $(n,t){return y(function(o,i){var l=t??{},r=l.leading,s=r===void 0?!0:r,d=l.trailing,v=d===void 0?!1:d,f=!1,c=null,a=null,u=!1,h=function(){a==null||a.unsubscribe(),a=null,v&&(m(),u&&i.complete())},x=function(){a=null,u&&i.complete()},p=function(e){return a=N(n(e)).subscribe(g(i,h,x))},m=function(){if(f){f=!1;var e=c;c=null,i.next(e),!u&&p(e)}};o.subscribe(g(i,function(e){f=!0,c=e,!(a&&!a.closed)&&(s?m():p(e))},function(){u=!0,!(v&&f&&a&&!a.closed)&&i.complete()}))})}function q(n,t,o){t===void 0&&(t=_);var i=F(n,t);return $(function(){return i},o)}export{q as t};
